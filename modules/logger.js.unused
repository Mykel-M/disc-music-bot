// logger.js
// Generated by ChatGPT

// work-in-progress
// Do not use unless you know what you're doing.

const fs = require('fs');
const path = require('path');
const now = new Date();
const timestamp = `${now.getHours()}_${now.getMinutes()}_${now.getSeconds()}_${now.getFullYear()}`;
const logFile = `logs/${path.basename(process.argv[1], '.js')}_${timestamp}.log`;

fs.mkdirSync('logs', { recursive: true });
const logStream = fs.createWriteStream(logFile, { flags: 'a' });

console.log = (msg) => {
    const logMsg = `[${now.toISOString()}] ${msg}\n`; // Use stored 'now' date
    process.stdout.write(logMsg);
    logStream.write(logMsg);
};
